@page "/authentication"
@inject NavigationManager Navigation
@inherits AuthenticationBase

@if (isLoading)
{
    <Loader />
}
else
{
    <MudLayout>
        <MudContainer >
            <MudContainer Class="d-flex justify-content-between" Style="margin-right: 100%">
                <MudContainer Class="d-flex justify-content-center mt-10 pt-20">
                    <MudPaper Elevation="5" Style="width: 500px; height: 600px; margin-top: 30px;">
                        <MudContainer>
                            <MudCard Class="mt-20 pt-10" Elevation="10">
                                <MudCardContent>
                                    <MudText Style="font-weight: bolder; margin: 4px;" Typo="Typo.h5">Login</MudText>

                                    <MudTextField Class="mb-5" T="string" Label="Username" @bind-Value="login.Email" Variant="Variant.Outlined" FullWidth />
                                    <MudTextField Class="mb-10" T="string" Label="Password" @bind-Value="login.Password" Variant="Variant.Outlined" InputType="InputType.Password" FullWidth />

                                    @if (!string.IsNullOrEmpty(responseMessage))
                                    {
                                        <MudText Color="Color.Error">@responseMessage</MudText>
                                    }

                                    <MudButton FullWidth Style="height: 50px; background-color: dodgerblue; color: white;" OnClick="LoginOnClick" Variant="Variant.Filled" Disabled="isLoading">
                                        @if (isLoading)
                                        {
                                            <MudProgressCircular Indeterminate="true" Size="Size.Medium" />
                                        }
                                        else
                                        {
                                            @:Login
                                        }
                                    </MudButton>
                                    <MudContainer Class="mt-5 fw-bold">
                                        <MudLink OnClick="OpenForgotPasswordDialog">Forgot Password?</MudLink>
                                    </MudContainer>
                                </MudCardContent>
                            </MudCard>
                        </MudContainer>
                    </MudPaper>
                </MudContainer>

                <MudContainer Class="d-grid justify-content-center mt-20 pt-20">
                    <MudContainer>
                        <MudText Style="color:white; font-weight: bolder;" Typo="Typo.h4">
                            Capstone Shared Ideas Generator Admin Login
                        </MudText>
                    </MudContainer>
                    <MudImage Src="Login.png" Style="width: 550px; height: 550px; background-color: transparent;"></MudImage>
                </MudContainer>
            </MudContainer>
        </MudContainer>
    </MudLayout>
}