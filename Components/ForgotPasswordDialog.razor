@page "/forgotpassworddialog"
@inherits ForgotPasswordDialogBase

<MudDialog DisableSidePadding="false">
    <DialogContent>
        <MudText Typo="Typo.h5">Forgot Password</MudText>

        <MudTextField T="string" Label="Email" @bind-Value="request.Email" Variant="Variant.Outlined" FullWidth Required="true" />

        <MudButton Class="mt-4" Color="Color.Primary" Style="height: 50px" Variant="Variant.Filled" FullWidth OnClick="ForgotPasswordDialogOnClick">
            Generate Reset Token
        </MudButton>

        @if (!string.IsNullOrEmpty(request.Token))
        {
            <MudAlert Severity="Severity.Info" Style="margin-top: 10px;">
                Use this token to reset your password: <b>@request.Token</b>
            </MudAlert>
            <MudButton Color="Color.Primary" FullWidth OnClick="OpenResetPasswordDialog">Reset Password</MudButton>
        }

        @if (!string.IsNullOrEmpty(errorMessage))
        {
            <MudAlert Severity="Severity.Error" Style="margin-top: 10px;">@errorMessage</MudAlert>
        }
    </DialogContent>
</MudDialog>

